@tailwind base;
@tailwind components;
@tailwind utilities;

/* Mobile-friendly defaults */
html,
body,
#root {
  height: 100%;
}

body {
  background-color: #0a0a0b; /* matches bg-zinc-950 */
  color: #e5e7eb; /* text-zinc-200-ish */
  overscroll-behavior-y: none;
  position: relative;
  isolation: isolate;
}

/* Global “render-grade” background (subtle, calm) */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -2;
  pointer-events: none;

  /* A calm layered background: vignette + soft top glow + faint center bloom */
  background:
    radial-gradient(900px 500px at 50% -10%, rgba(16, 185, 129, 0.10), rgba(0,0,0,0) 60%),
    radial-gradient(900px 700px at 50% 45%, rgba(255, 255, 255, 0.05), rgba(0,0,0,0) 62%),
    radial-gradient(1100px 900px at 50% 120%, rgba(0, 0, 0, 0.65), rgba(0,0,0,0) 55%),
    radial-gradient(1200px 900px at 50% 50%, rgba(0,0,0,0.0), rgba(0,0,0,0.55) 70%),
    linear-gradient(to bottom, #0a0a0b, #070708);
}

body::after {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;

  /* Very subtle “lens” / vignette to match render mood */
  background:
    radial-gradient(900px 600px at 50% 40%, rgba(0,0,0,0) 45%, rgba(0,0,0,0.55) 100%);
  opacity: 0.85;
}

/* Safe areas for notches */
:root {
  --safe-bottom: env(safe-area-inset-bottom);

  /* UI tokens (presentation only) */
  --z-bg: #0a0a0b;
  --z-text: #e5e7eb;

  /* Surfaces */
  --z-surface: rgba(255, 255, 255, 0.06);
  --z-surface-strong: rgba(255, 255, 255, 0.085);
  --z-inset: rgba(0, 0, 0, 0.28);

  /* Borders (“felt, not seen”) */
  --z-border: rgba(255, 255, 255, 0.11);
  --z-border-soft: rgba(255, 255, 255, 0.085);

  /* Radii */
  --z-radius: 16px; /* 2xl-ish */
  --z-radius-lg: 20px;
  --z-radius-xl: 26px;

  /* Focus ring */
  --z-ring: rgba(255, 255, 255, 0.18);

  /* Glow discipline */
  --z-glow-emerald: rgba(16, 185, 129, 0.18);
  --z-glow-emerald-strong: rgba(16, 185, 129, 0.28);
}

/* Disable selection/callout/highlight on pressable elements */
[data-press] {
  user-select: none;
  -webkit-user-select: none;
  -webkit-touch-callout: none;
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}

button,
[role="button"] {
  -webkit-tap-highlight-color: transparent;
}

/* ------------------------------
   Shared UI primitives (Tailwind)
   ------------------------------ */
@layer components {
  /* Layout rhythm */
  .z-page {
    @apply w-full max-w-[760px] mx-auto px-4 sm:px-5;
  }

  .z-page-y {
    @apply py-4 sm:py-5;
  }

  .z-stack {
    @apply flex flex-col gap-3;
  }

  .z-stack-lg {
    @apply flex flex-col gap-4;
  }

  /* Surfaces */
  .z-surface {
    border-radius: var(--z-radius);
    border: 1px solid var(--z-border-soft);
    background: var(--z-surface);
    box-shadow: 0 10px 30px rgba(0,0,0,0.25);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
  }

  .z-card {
    border-radius: var(--z-radius-lg);
    border: 1px solid var(--z-border);
    background: var(--z-surface-strong);
    box-shadow: 0 12px 34px rgba(0,0,0,0.28);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
  }

  .z-inset {
    border-radius: var(--z-radius);
    border: 1px solid rgba(255, 255, 255, 0.06);
    background: var(--z-inset);
  }

  /* Typography */
  .z-title {
    @apply text-[20px] sm:text-[22px] font-semibold tracking-tight text-zinc-100;
  }

  .z-subtitle {
    @apply text-[13px] sm:text-[14px] text-zinc-400 leading-snug;
  }

  .z-section-title {
    @apply text-[12px] uppercase tracking-wide text-zinc-400;
  }

  .z-helper {
    @apply text-[12px] text-zinc-500 leading-snug;
  }

  /* Inputs */
  .z-input {
    @apply w-full rounded-2xl bg-zinc-950/60 border border-white/10
      px-3 py-3 text-zinc-100 placeholder:text-zinc-500
      outline-none;
  }

  .z-input:focus {
    box-shadow: 0 0 0 3px var(--z-ring);
    border-color: rgba(255, 255, 255, 0.16);
  }

  /* Buttons (hierarchy only; colours remain semantic in components) */
  .z-btn {
    @apply inline-flex items-center justify-center gap-2 select-none
      rounded-2xl px-4 py-3 text-[14px] font-medium
      border border-white/10 bg-white/5 text-zinc-100
      active:scale-[0.99] transition;
  }

  .z-btn-quiet {
    @apply bg-transparent border-white/0 text-zinc-300 hover:bg-white/5;
  }

  .z-btn-secondary {
    @apply bg-white/[0.06] border-white/10 text-zinc-100;
  }

  /* Disabled states */
  .z-disabled {
    @apply opacity-50 pointer-events-none;
  }

  /* Pill segmented control (matches render language) */
  .z-pillbar {
    border-radius: 9999px;
    border: 1px solid rgba(255,255,255,0.10);
    background: rgba(255,255,255,0.04);
    box-shadow: 0 10px 26px rgba(0,0,0,0.25);
    @apply p-1 flex w-full;
  }

  .z-pill {
    @apply flex-1 rounded-full px-3 py-2 text-sm font-medium transition select-none;
  }

  .z-pill-on {
    background: rgba(16,185,129,0.18);
    border: 1px solid rgba(16,185,129,0.35);
    box-shadow: 0 0 22px var(--z-glow-emerald);
    @apply text-emerald-200;
  }

  .z-pill-off {
    @apply text-zinc-300 hover:text-zinc-100;
  }

  /* Very subtle “accent glow” for key hero surfaces only */
  .z-hero-glow {
    box-shadow:
      0 0 0 1px rgba(255,255,255,0.08),
      0 16px 40px rgba(0,0,0,0.32),
      0 0 38px var(--z-glow-emerald);
  }
}
